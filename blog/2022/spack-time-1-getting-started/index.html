<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Spack Time 1: Getting started | Shern Ren Tee</title> <meta name="author" content="Shern Ren Tee"/> <meta name="description" content="unconventional molecular dynamics researcher, open source scientific coder, sleep-deprived father "/> <meta name="keywords" content="molecular-dynamics, nonequilibrium, statistical-mechanics, constant-potential, electrode, LAMMPS, C++, FAIR, open-source, academia "/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://srtee.github.io/blog/2022/spack-time-1-getting-started/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Shern </span>Ren Tee</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon" title="Change to Dark theme"></i> <i class="fas fa-sun" title="Change to Light theme"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Spack Time 1: Getting started</h1> <p class="post-meta">October 1, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/spack"> <i class="fas fa-hashtag fa-sm"></i> spack</a>   <a href="/blog/tag/doco"> <i class="fas fa-hashtag fa-sm"></i> doco</a>   </p> </header> <article class="post-content"> <h2 id="introduction">Introduction</h2> <p>I<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> have some time after sending a big paper off to my supervisor to read, and I’ve decided to overhaul my build environments. My work desktop has accumulated enough entropy that I can’t even power-cycle the <em>monitors</em> without having to hard-reset! So it’s time to back everything up and put on a fresh Linux install – which means I might as well do everything right.</p> <p><em>Right</em>, in this case, means documenting my build environment. To get all evangelistic, documentation is foundational to making science more <a href="https://www.go-fair.org/fair-principles/" target="_blank" rel="noopener noreferrer">FAIR</a>. Documentation is how a complete stranger in the scientific ecosystem can be confident that code I develop and deploy is safe to run on their computer, let alone that it will produce the right results. But guess who’s the biggest stranger in my life? It’s <em>me</em>! I can count on “me” of six months or six years from now to remember practically nothing first-hand, so being all documentative and FAIRy is good for myself as much as for the wider world.</p> <p>So here I am, documenting how I intend to set everything up correctly, and my first step is Spack.</p> <h2 id="spack-and-singularity">Spack (and Singularity)</h2> <blockquote> <p>Spack is a package manager for supercomputers, Linux, and macOS. It makes installing scientific software easy.</p> <p>from: <a href="https://spack.io/" target="_blank" rel="noopener noreferrer">Spack</a></p> </blockquote> <p>What? “Makes installing scientific software easy?” Sign me right up!</p> <p>I’ll start by trialling Spack on my home computer, which I’m not turning upside down and rattling at the same time as my work desktop, to see how it goes, and then see how the process goes on my work desktop.</p> <p>My specific use case is that I (with collaborators at the Hamburg University of Technology) develop the <a href="https://aip.scitation.org/doi/10.1063/5.0099239" target="_blank" rel="noopener noreferrer">ELECTRODE package</a>, as well as working on non-equilibrium methods in molecular dynamics with <a href="https://ctcms-uq.github.io/" target="_blank" rel="noopener noreferrer">CTCMS</a> at the University of Queensland, in the <a href="https://www.lammps.org/" target="_blank" rel="noopener noreferrer">LAMMPS</a> code. Besides developing generic code (and writing papers about it) I try to co-develop code with the INTEL package, which relies on Intel directives to go zoom zoom on Intel processors, and I am also co-developing code with the KOKKOS package to (soon) go zoom zoom on AMD GPUs on the brand new <a href="https://pawsey.org.au/systems/setonix/" target="_blank" rel="noopener noreferrer">Setonix</a> supercomputer.</p> <p>This means I need to test code against at least three compiler toolchains: Intel, AMD, and good old GCC (because I’m not a monster). In addition, I also want to link against a variety of FFT and linear algebra codes (such as MKL, openBLAS, or openBLIS). This kind of wacky combinatorial development is, supposedly, what Spack is good for. We’re about to find out!</p> <p>(I read lots of chatter about containerizing everything, and I know Singularity / Apptainer is a big deal for eventually deploying to HPC. But, from everything I’ve read, it sounds like Spack is great on boxes which I <em>own</em>, and eventually containers would be important for deploying either to HPC or cloud computes.)</p> <h2 id="installing-spack-and-lammps">Installing Spack and LAMMPS</h2> <p>So I installed Spack from GitHub using the <a href="https://spack-tutorial.readthedocs.io/en/latest/tutorial_basics.html" target="_blank" rel="noopener noreferrer">tutorial instructions</a>. Then, naively and straightforwardly, I typed in:</p> <p><code class="language-plaintext highlighter-rouge">spack install lammps</code></p> <p>and … it looks like it will take a while. This seems like a complete post now, so I’ll be back when it’s done!</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1" role="doc-endnote"> <p>You might not know who I am yet, and that’s okay! I really should write something about me before diving right into this blog, but Documenting Everything takes priority right now. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Shern Ren Tee. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="noopener noreferrer">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>